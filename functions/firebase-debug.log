[debug] [2022-03-28T06:40:13.301Z] ----------------------------------------------------------------------
[debug] [2022-03-28T06:40:13.303Z] Command:       /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/bin/node /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/bin/firebase emulators:start
[debug] [2022-03-28T06:40:13.303Z] CLI Version:   10.5.0
[debug] [2022-03-28T06:40:13.303Z] Platform:      darwin
[debug] [2022-03-28T06:40:13.304Z] Node Version:  v14.19.1
[debug] [2022-03-28T06:40:13.305Z] Time:          Mon Mar 28 2022 12:10:13 GMT+0530 (India Standard Time)
[debug] [2022-03-28T06:40:13.305Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-03-28T06:40:13.367Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-03-28T06:40:13.367Z] > authorizing via signed-in user (nageswaransrinivasan@gmail.com)
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[debug] [2022-03-28T06:40:13.400Z] [hub] writing locator at /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/hub-clone-2d476.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub, storage\u001b[22m"}}
[warn] ⚠  Your requested "node" version "16" doesn't match your global version "14". Using node@14 from host. {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"16\" doesn't match your global version \"14\". Using node@14 from host."}}
[debug] [2022-03-28T06:40:13.937Z] defaultcredentials: writing to file /Users/nageswaran.srinivasan/.config/firebase/nageswaransrinivasan_gmail_com_application_default_credentials.json
[debug] [2022-03-28T06:40:13.940Z] Setting GAC to /Users/nageswaran.srinivasan/.config/firebase/nageswaransrinivasan_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/nageswaran.srinivasan/.config/firebase/nageswaransrinivasan_gmail_com_application_default_credentials.json"}}
[debug] [2022-03-28T06:40:13.943Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-2d476/adminSdkConfig [none]
[debug] [2022-03-28T06:40:15.201Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-2d476/adminSdkConfig 200
[debug] [2022-03-28T06:40:15.201Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-2d476/adminSdkConfig {"projectId":"clone-2d476","storageBucket":"clone-2d476.appspot.com"}
[debug] [2022-03-28T06:40:15.233Z] >>> [apiv2][query] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-2d476/sites 
[debug] [2022-03-28T06:40:16.709Z] <<< [apiv2][status] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-2d476/sites 200
[debug] [2022-03-28T06:40:16.709Z] <<< [apiv2][body] GET https://firebasehosting.googleapis.com/v1beta1/projects/clone-2d476/sites {"sites":[{"name":"projects/324550266688/sites/clone-2d476","defaultUrl":"https://clone-2d476.web.app","appId":"1:324550266688:web:7e7aeaedf018628113b4a5","type":"DEFAULT_SITE"}]}
[debug] [2022-03-28T06:40:16.709Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/clone-2d476/webApps/1:324550266688:web:7e7aeaedf018628113b4a5/config [none]
[debug] [2022-03-28T06:40:17.923Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/clone-2d476/webApps/1:324550266688:web:7e7aeaedf018628113b4a5/config 200
[debug] [2022-03-28T06:40:17.923Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/clone-2d476/webApps/1:324550266688:web:7e7aeaedf018628113b4a5/config {"projectId":"clone-2d476","appId":"1:324550266688:web:7e7aeaedf018628113b4a5","storageBucket":"clone-2d476.appspot.com","apiKey":"AIzaSyAVKYoh51w-DmZMCQOy4Zav3vmv-EdIcno","authDomain":"clone-2d476.firebaseapp.com","messagingSenderId":"324550266688","measurementId":"G-TVPDT31Z14"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[info] i  ui: downloading ui-v1.6.5.zip... {"metadata":{"emulator":{"name":"ui"},"message":"downloading ui-v1.6.5.zip..."}}
[debug] [2022-03-28T06:40:17.976Z] >>> [apiv2][query] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.6.5.zip 
[debug] [2022-03-28T06:40:19.540Z] <<< [apiv2][status] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.6.5.zip 200
[debug] [2022-03-28T06:40:19.540Z] <<< [apiv2][body] GET https://storage.googleapis.com/firebase-preview-drop/emulator/ui-v1.6.5.zip [stream]
[debug] [2022-03-28T06:40:22.171Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2022-03-28T06:40:22.171Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2022-03-28T06:40:22.172Z] Starting Emulator UI with command {"binary":"node","args":["/Users/nageswaran.srinivasan/.cache/firebase/emulators/ui-v1.6.5/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/nageswaran.srinivasan/.cache/firebase/emulators/ui-v1.6.5/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2022-03-28T06:40:22.296Z] Web / API server started at localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at localhost:4000\n"}}
[info] i  functions: Watching "/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\" for Cloud Functions..."}}
[debug] [2022-03-28T06:40:22.444Z] Validating nodejs source
[debug] [2022-03-28T06:40:26.446Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^8.212.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-03-28T06:40:26.447Z] Building nodejs source
[debug] [2022-03-28T06:40:26.447Z] Analyzing nodejs backend spec
[info] ✔  functions[us-central1-api]: http function initialized (http://localhost:5001/clone-2d476/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/clone-2d476/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2022-03-28T06:41:30.540Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T06:41:30.541Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T06:41:30.541Z] Accepted request GET /clone-2d476/us-central1/api --> us-central1-api
[debug] [2022-03-28T06:41:30.552Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T06:41:30.552Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-03-28T06:41:30.553Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T06:41:30.553Z] [worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30760.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30760.sock"}}
[debug] [2022-03-28T06:41:30.553Z] [worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: BUSY"}}
[debug] [2022-03-28T06:41:32.052Z] [runtime-status] [30760] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T06:41:32.053Z] [runtime-status] [30760] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Disabled runtime features: undefined"}}
[debug] [2022-03-28T06:41:32.056Z] [runtime-status] [30760] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T06:41:32.057Z] [runtime-status] [30760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T06:41:32.057Z] [runtime-status] [30760] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T06:41:32.058Z] [runtime-status] [30760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T06:41:32.105Z] [runtime-status] [30760] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T06:41:32.106Z] [runtime-status] [30760] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T06:41:32.106Z] [runtime-status] [30760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T06:41:32.108Z] [runtime-status] [30760] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T06:41:32.109Z] [runtime-status] [30760] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T06:41:32.109Z] [runtime-status] [30760] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T06:41:32.264Z] [runtime-status] [30760] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T06:41:32.265Z] [runtime-status] [30760] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Running api in signature http"}}
[debug] [2022-03-28T06:41:32.267Z] [runtime-status] [30760] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30760.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30760.sock"}}
[debug] [2022-03-28T06:41:32.275Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T06:41:32.276Z] [functions] Got req.url=/clone-2d476/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api, mapping to path=/"}}
[debug] [2022-03-28T06:41:32.280Z] [runtime-status] [30760] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Ephemeral server handling GET request"}}
[debug] [2022-03-28T06:41:32.287Z] [runtime-status] [30760] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30760] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T06:41:32.288Z] [worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: IDLE"}}
[debug] [2022-03-28T06:41:32.289Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T06:41:32.445Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2022-03-28T06:47:30.896Z] File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-03-28T06:47:31.898Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2022-03-28T06:47:31.899Z] [worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: FINISHING"}}
[debug] [2022-03-28T06:47:31.902Z] Validating nodejs source
[debug] [2022-03-28T06:47:41.365Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^8.212.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-03-28T06:47:41.367Z] Building nodejs source
[debug] [2022-03-28T06:47:41.367Z] Analyzing nodejs backend spec
[debug] [2022-03-28T06:47:41.389Z] [worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: exited"}}
[debug] [2022-03-28T06:47:41.390Z] [worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-55294386-2969-4f70-8b48-f774747bbefe]: FINISHED"}}
[debug] [2022-03-28T06:48:20.288Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T06:48:20.288Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T06:48:20.289Z] Accepted request GET /clone-2d476/us-central1/api --> us-central1-api
[debug] [2022-03-28T06:48:20.289Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-03-28T06:48:20.306Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T06:48:20.308Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-03-28T06:48:20.308Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T06:48:20.309Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T06:48:20.309Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY"}}
[debug] [2022-03-28T06:48:24.391Z] [runtime-status] [30837] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T06:48:24.395Z] [runtime-status] [30837] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Disabled runtime features: undefined"}}
[debug] [2022-03-28T06:48:24.402Z] [runtime-status] [30837] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T06:48:24.406Z] [runtime-status] [30837] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T06:48:24.407Z] [runtime-status] [30837] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T06:48:24.410Z] [runtime-status] [30837] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T06:48:24.550Z] [runtime-status] [30837] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T06:48:24.551Z] [runtime-status] [30837] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T06:48:24.553Z] [runtime-status] [30837] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T06:48:24.557Z] [runtime-status] [30837] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T06:48:24.558Z] [runtime-status] [30837] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T06:48:24.558Z] [runtime-status] [30837] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T06:48:24.973Z] [runtime-status] [30837] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T06:48:24.975Z] [runtime-status] [30837] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Running api in signature http"}}
[debug] [2022-03-28T06:48:24.990Z] [runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T06:48:25.006Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T06:48:25.007Z] [functions] Got req.url=/clone-2d476/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api, mapping to path=/"}}
[debug] [2022-03-28T06:48:25.035Z] [runtime-status] [30837] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server handling GET request"}}
[debug] [2022-03-28T06:48:25.058Z] [runtime-status] [30837] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T06:48:25.064Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: IDLE"}}
[debug] [2022-03-28T06:48:25.065Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:28:22.693Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:28:22.694Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:28:22.694Z] Accepted request POST /clone-2d476/us-central1/api/payment/create?total=600 --> us-central1-api
[debug] [2022-03-28T07:28:22.694Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:28:22.694Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T07:28:22.694Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY"}}
[debug] [2022-03-28T07:28:22.695Z] [runtime-status] [30837] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:28:22.695Z] [runtime-status] [30837] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Running api in signature http"}}
[debug] [2022-03-28T07:28:22.695Z] [runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T07:28:22.698Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:28:22.698Z] [functions] Got req.url=/clone-2d476/us-central1/api/payment/create?total=600, mapping to path=/payment/create?total=600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payment/create?total=600, mapping to path=/payment/create?total=600"}}
[debug] [2022-03-28T07:28:22.702Z] [runtime-status] [30837] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server handling POST request"}}
[debug] [2022-03-28T07:28:22.705Z] [runtime-status] [30837] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:28:22.706Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: IDLE"}}
[debug] [2022-03-28T07:28:22.706Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:28:27.433Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:28:27.434Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:28:27.434Z] Accepted request POST /clone-2d476/us-central1/api/payment/create?total=0 --> us-central1-api
[debug] [2022-03-28T07:28:27.434Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:28:27.434Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T07:28:27.434Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY"}}
[debug] [2022-03-28T07:28:27.435Z] [runtime-status] [30837] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:28:27.435Z] [runtime-status] [30837] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Running api in signature http"}}
[debug] [2022-03-28T07:28:27.436Z] [runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T07:28:27.438Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:28:27.438Z] [functions] Got req.url=/clone-2d476/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payment/create?total=0, mapping to path=/payment/create?total=0"}}
[debug] [2022-03-28T07:28:27.441Z] [runtime-status] [30837] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server handling POST request"}}
[debug] [2022-03-28T07:28:27.443Z] [runtime-status] [30837] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:28:27.443Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: IDLE"}}
[debug] [2022-03-28T07:28:27.443Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:28:38.455Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:28:38.455Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:28:38.455Z] Accepted request POST /clone-2d476/us-central1/api/payment/create?total=600 --> us-central1-api
[debug] [2022-03-28T07:28:38.455Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:28:38.456Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T07:28:38.456Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY"}}
[debug] [2022-03-28T07:28:38.456Z] [runtime-status] [30837] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:28:38.457Z] [runtime-status] [30837] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Running api in signature http"}}
[debug] [2022-03-28T07:28:38.458Z] [runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T07:28:38.461Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:28:38.461Z] [functions] Got req.url=/clone-2d476/us-central1/api/payment/create?total=600, mapping to path=/payment/create?total=600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payment/create?total=600, mapping to path=/payment/create?total=600"}}
[debug] [2022-03-28T07:28:38.463Z] [runtime-status] [30837] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server handling POST request"}}
[debug] [2022-03-28T07:28:38.465Z] [runtime-status] [30837] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:28:38.466Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: IDLE"}}
[debug] [2022-03-28T07:28:38.466Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:29:23.423Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:29:23.423Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:29:23.423Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=600 --> us-central1-api
[debug] [2022-03-28T07:29:23.423Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:29:23.424Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T07:29:23.424Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: BUSY"}}
[debug] [2022-03-28T07:29:23.424Z] [runtime-status] [30837] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:29:23.424Z] [runtime-status] [30837] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Running api in signature http"}}
[debug] [2022-03-28T07:29:23.425Z] [runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_30837.sock"}}
[debug] [2022-03-28T07:29:23.427Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:29:23.427Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600"}}
[debug] [2022-03-28T07:29:23.429Z] [runtime-status] [30837] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server handling POST request"}}
[debug] [2022-03-28T07:29:23.429Z] [runtime-status] [30837] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [30837] Ephemeral server survived."}}
[info] >  (node:30837) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined {"user":"(node:30837) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:30837) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:30837) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:30837) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:30837) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:30837) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:30837) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:30837) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-03-28T07:29:29.600Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-03-28T07:29:29.601Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-03-28T07:29:29.601Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=400 --> us-central1-api
[debug] [2022-03-28T07:29:29.609Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:29:29.610Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-03-28T07:29:29.610Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:29:29.610Z] [worker-us-central1-api-d222b9d5-f4f6-40dc-ab4a-6e337e2f5821]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31556.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d222b9d5-f4f6-40dc-ab4a-6e337e2f5821]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31556.sock"}}
[debug] [2022-03-28T07:29:29.610Z] [worker-us-central1-api-d222b9d5-f4f6-40dc-ab4a-6e337e2f5821]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d222b9d5-f4f6-40dc-ab4a-6e337e2f5821]: BUSY"}}
[debug] [2022-03-28T07:29:31.162Z] [runtime-status] [31556] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:29:31.163Z] [runtime-status] [31556] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:29:31.166Z] [runtime-status] [31556] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:31.168Z] [runtime-status] [31556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:31.168Z] [runtime-status] [31556] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:29:31.169Z] [runtime-status] [31556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:31.231Z] [runtime-status] [31556] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:29:31.232Z] [runtime-status] [31556] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:29:31.232Z] [runtime-status] [31556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:31.233Z] [runtime-status] [31556] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:31.234Z] [runtime-status] [31556] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:31.234Z] [runtime-status] [31556] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:29:31.387Z] [runtime-status] [31556] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:29:31.388Z] [runtime-status] [31556] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Running api in signature http"}}
[debug] [2022-03-28T07:29:31.390Z] [runtime-status] [31556] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31556.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31556.sock"}}
[debug] [2022-03-28T07:29:31.394Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:29:31.394Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=400, mapping to path=/payments/create?total=400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=400, mapping to path=/payments/create?total=400"}}
[debug] [2022-03-28T07:29:31.400Z] [runtime-status] [31556] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Ephemeral server handling POST request"}}
[debug] [2022-03-28T07:29:31.402Z] [runtime-status] [31556] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31556] Ephemeral server survived."}}
[info] >  (node:31556) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined {"user":"(node:31556) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31556) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:31556) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:31556) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31556) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:31556) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:31556) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31556) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-03-28T07:29:44.532Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2022-03-28T07:29:44.532Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2022-03-28T07:29:44.533Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=600 --> us-central1-api
[debug] [2022-03-28T07:29:44.541Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:29:44.542Z] [worker-pool] Adding worker with key us-central1-api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=3"}}
[debug] [2022-03-28T07:29:44.543Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:29:44.543Z] [worker-us-central1-api-57f0c4ef-ae6a-4d6b-8ceb-27753ffe8bd7]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31560.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-57f0c4ef-ae6a-4d6b-8ceb-27753ffe8bd7]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31560.sock"}}
[debug] [2022-03-28T07:29:44.543Z] [worker-us-central1-api-57f0c4ef-ae6a-4d6b-8ceb-27753ffe8bd7]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-57f0c4ef-ae6a-4d6b-8ceb-27753ffe8bd7]: BUSY"}}
[debug] [2022-03-28T07:29:45.519Z] [runtime-status] [31560] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:29:45.521Z] [runtime-status] [31560] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:29:45.524Z] [runtime-status] [31560] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:45.526Z] [runtime-status] [31560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:45.527Z] [runtime-status] [31560] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:29:45.528Z] [runtime-status] [31560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:45.574Z] [runtime-status] [31560] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:29:45.574Z] [runtime-status] [31560] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:29:45.575Z] [runtime-status] [31560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:45.576Z] [runtime-status] [31560] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:45.577Z] [runtime-status] [31560] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:29:45.577Z] [runtime-status] [31560] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:29:45.683Z] [runtime-status] [31560] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:29:45.684Z] [runtime-status] [31560] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Running api in signature http"}}
[debug] [2022-03-28T07:29:45.687Z] [runtime-status] [31560] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31560.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31560.sock"}}
[debug] [2022-03-28T07:29:45.691Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:29:45.692Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600"}}
[debug] [2022-03-28T07:29:45.698Z] [runtime-status] [31560] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Ephemeral server handling POST request"}}
[debug] [2022-03-28T07:29:45.700Z] [runtime-status] [31560] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31560] Ephemeral server survived."}}
[info] >  (node:31560) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined {"user":"(node:31560) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31560) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:31560) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:31560) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31560) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:31560) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:31560) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31560) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-03-28T07:30:10.197Z] [work-queue] {"queueLength":1,"workRunningCount":3}
[debug] [2022-03-28T07:30:10.198Z] [work-queue] {"queueLength":0,"workRunningCount":4}
[debug] [2022-03-28T07:30:10.198Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=600 --> us-central1-api
[debug] [2022-03-28T07:30:10.205Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:30:10.206Z] [worker-pool] Adding worker with key us-central1-api, total=4 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=4"}}
[debug] [2022-03-28T07:30:10.206Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:30:10.207Z] [worker-us-central1-api-6131edea-5638-4bd4-a66e-69dd570f0889]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31574.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6131edea-5638-4bd4-a66e-69dd570f0889]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31574.sock"}}
[debug] [2022-03-28T07:30:10.207Z] [worker-us-central1-api-6131edea-5638-4bd4-a66e-69dd570f0889]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6131edea-5638-4bd4-a66e-69dd570f0889]: BUSY"}}
[debug] [2022-03-28T07:30:11.732Z] [runtime-status] [31574] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:30:11.732Z] [runtime-status] [31574] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:30:11.734Z] [runtime-status] [31574] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:30:11.736Z] [runtime-status] [31574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:30:11.736Z] [runtime-status] [31574] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:30:11.736Z] [runtime-status] [31574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:30:11.785Z] [runtime-status] [31574] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:30:11.785Z] [runtime-status] [31574] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:30:11.785Z] [runtime-status] [31574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:30:11.786Z] [runtime-status] [31574] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:30:11.787Z] [runtime-status] [31574] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:30:11.787Z] [runtime-status] [31574] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:30:11.929Z] [runtime-status] [31574] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:30:11.929Z] [runtime-status] [31574] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Running api in signature http"}}
[debug] [2022-03-28T07:30:11.931Z] [runtime-status] [31574] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31574.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31574.sock"}}
[debug] [2022-03-28T07:30:11.935Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:30:11.935Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600"}}
[debug] [2022-03-28T07:30:11.940Z] [runtime-status] [31574] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Ephemeral server handling POST request"}}
[debug] [2022-03-28T07:30:11.942Z] [runtime-status] [31574] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31574] Ephemeral server survived."}}
[info] >  (node:31574) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined {"user":"(node:31574) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31574) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:31574) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:31574) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31574) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:31574) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:31574) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31574) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:30:23.437Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: exited"}}
[debug] [2022-03-28T07:30:23.437Z] [worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-9743142f-2f6e-4c21-95cb-e1ce82888f1c]: FINISHED"}}
[debug] [2022-03-28T07:30:23.437Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:30:31.402Z] [worker-us-central1-api-d222b9d5-f4f6-40dc-ab4a-6e337e2f5821]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d222b9d5-f4f6-40dc-ab4a-6e337e2f5821]: exited"}}
[debug] [2022-03-28T07:30:31.402Z] [worker-us-central1-api-d222b9d5-f4f6-40dc-ab4a-6e337e2f5821]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d222b9d5-f4f6-40dc-ab4a-6e337e2f5821]: FINISHED"}}
[debug] [2022-03-28T07:30:31.402Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:30:45.697Z] [worker-us-central1-api-57f0c4ef-ae6a-4d6b-8ceb-27753ffe8bd7]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-57f0c4ef-ae6a-4d6b-8ceb-27753ffe8bd7]: exited"}}
[debug] [2022-03-28T07:30:45.697Z] [worker-us-central1-api-57f0c4ef-ae6a-4d6b-8ceb-27753ffe8bd7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-57f0c4ef-ae6a-4d6b-8ceb-27753ffe8bd7]: FINISHED"}}
[debug] [2022-03-28T07:30:45.698Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:31:11.947Z] [worker-us-central1-api-6131edea-5638-4bd4-a66e-69dd570f0889]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6131edea-5638-4bd4-a66e-69dd570f0889]: exited"}}
[debug] [2022-03-28T07:31:11.947Z] [worker-us-central1-api-6131edea-5638-4bd4-a66e-69dd570f0889]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6131edea-5638-4bd4-a66e-69dd570f0889]: FINISHED"}}
[debug] [2022-03-28T07:31:11.947Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:31:39.960Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:31:39.960Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:31:39.960Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-03-28T07:31:39.960Z] [worker-pool] Cleaned up workers for us-central1-api: 4 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 4 --> 0"}}
[debug] [2022-03-28T07:31:39.967Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:31:39.968Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-03-28T07:31:39.968Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:31:39.968Z] [worker-us-central1-api-f3e2910f-ae3e-4ff0-a3aa-4c458029fde2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31617.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f3e2910f-ae3e-4ff0-a3aa-4c458029fde2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31617.sock"}}
[debug] [2022-03-28T07:31:39.968Z] [worker-us-central1-api-f3e2910f-ae3e-4ff0-a3aa-4c458029fde2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f3e2910f-ae3e-4ff0-a3aa-4c458029fde2]: BUSY"}}
[debug] [2022-03-28T07:31:41.638Z] [runtime-status] [31617] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:31:41.639Z] [runtime-status] [31617] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:31:41.643Z] [runtime-status] [31617] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:31:41.644Z] [runtime-status] [31617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:31:41.645Z] [runtime-status] [31617] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:31:41.645Z] [runtime-status] [31617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:31:41.697Z] [runtime-status] [31617] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:31:41.697Z] [runtime-status] [31617] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:31:41.698Z] [runtime-status] [31617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:31:41.699Z] [runtime-status] [31617] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:31:41.700Z] [runtime-status] [31617] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:31:41.700Z] [runtime-status] [31617] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:31:41.852Z] [runtime-status] [31617] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:31:41.853Z] [runtime-status] [31617] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Running api in signature http"}}
[debug] [2022-03-28T07:31:41.855Z] [runtime-status] [31617] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31617.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31617.sock"}}
[debug] [2022-03-28T07:31:41.858Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:31:41.858Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-03-28T07:31:41.863Z] [runtime-status] [31617] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Ephemeral server handling POST request"}}
[debug] [2022-03-28T07:31:41.865Z] [runtime-status] [31617] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31617] Ephemeral server survived."}}
[info] >  (node:31617) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined {"user":"(node:31617) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31617) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:31617) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:31617) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31617) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:31617) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:31617) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31617) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-03-28T07:32:07.232Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-03-28T07:32:07.232Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-03-28T07:32:07.232Z] Accepted request GET /clone-2d476/us-central1/api/ --> us-central1-api
[debug] [2022-03-28T07:32:07.238Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:32:07.239Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-03-28T07:32:07.239Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:32:07.239Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock"}}
[debug] [2022-03-28T07:32:07.239Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: BUSY"}}
[debug] [2022-03-28T07:32:08.109Z] [runtime-status] [31632] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:32:08.110Z] [runtime-status] [31632] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:32:08.112Z] [runtime-status] [31632] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:32:08.113Z] [runtime-status] [31632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:32:08.113Z] [runtime-status] [31632] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:32:08.114Z] [runtime-status] [31632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:32:08.143Z] [runtime-status] [31632] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:32:08.143Z] [runtime-status] [31632] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:32:08.144Z] [runtime-status] [31632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:32:08.145Z] [runtime-status] [31632] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:32:08.145Z] [runtime-status] [31632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:32:08.145Z] [runtime-status] [31632] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:32:08.232Z] [runtime-status] [31632] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:32:08.233Z] [runtime-status] [31632] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Running api in signature http"}}
[debug] [2022-03-28T07:32:08.235Z] [runtime-status] [31632] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock"}}
[debug] [2022-03-28T07:32:08.238Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:32:08.238Z] [functions] Got req.url=/clone-2d476/us-central1/api/, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/, mapping to path=/"}}
[debug] [2022-03-28T07:32:08.242Z] [runtime-status] [31632] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Ephemeral server handling GET request"}}
[debug] [2022-03-28T07:32:08.249Z] [runtime-status] [31632] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:32:08.251Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: IDLE"}}
[debug] [2022-03-28T07:32:08.252Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:32:41.862Z] [worker-us-central1-api-f3e2910f-ae3e-4ff0-a3aa-4c458029fde2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f3e2910f-ae3e-4ff0-a3aa-4c458029fde2]: exited"}}
[debug] [2022-03-28T07:32:41.862Z] [worker-us-central1-api-f3e2910f-ae3e-4ff0-a3aa-4c458029fde2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-f3e2910f-ae3e-4ff0-a3aa-4c458029fde2]: FINISHED"}}
[debug] [2022-03-28T07:32:41.862Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:33:43.457Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:33:43.457Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:33:43.457Z] Accepted request GET /clone-2d476/us-central1/api --> us-central1-api
[debug] [2022-03-28T07:33:43.457Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2022-03-28T07:33:43.457Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:33:43.457Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock"}}
[debug] [2022-03-28T07:33:43.457Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: BUSY"}}
[debug] [2022-03-28T07:33:43.458Z] [runtime-status] [31632] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:33:43.458Z] [runtime-status] [31632] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Running api in signature http"}}
[debug] [2022-03-28T07:33:43.459Z] [runtime-status] [31632] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock"}}
[debug] [2022-03-28T07:33:43.461Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:33:43.461Z] [functions] Got req.url=/clone-2d476/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api, mapping to path=/"}}
[debug] [2022-03-28T07:33:43.463Z] [runtime-status] [31632] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Ephemeral server handling GET request"}}
[debug] [2022-03-28T07:33:43.465Z] [runtime-status] [31632] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:33:43.465Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: IDLE"}}
[debug] [2022-03-28T07:33:43.465Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:33:46.314Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:33:46.314Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:33:46.314Z] Accepted request GET /clone-2d476/us-central1/api --> us-central1-api
[debug] [2022-03-28T07:33:46.314Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:33:46.315Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock"}}
[debug] [2022-03-28T07:33:46.315Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: BUSY"}}
[debug] [2022-03-28T07:33:46.315Z] [runtime-status] [31632] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:33:46.315Z] [runtime-status] [31632] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Running api in signature http"}}
[debug] [2022-03-28T07:33:46.316Z] [runtime-status] [31632] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock"}}
[debug] [2022-03-28T07:33:46.317Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:33:46.318Z] [functions] Got req.url=/clone-2d476/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api, mapping to path=/"}}
[debug] [2022-03-28T07:33:46.319Z] [runtime-status] [31632] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Ephemeral server handling GET request"}}
[debug] [2022-03-28T07:33:46.320Z] [runtime-status] [31632] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:33:46.322Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: IDLE"}}
[debug] [2022-03-28T07:33:46.322Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:34:20.593Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:34:20.593Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:34:20.594Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=400 --> us-central1-api
[debug] [2022-03-28T07:34:20.594Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:34:20.594Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock"}}
[debug] [2022-03-28T07:34:20.594Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: BUSY"}}
[debug] [2022-03-28T07:34:20.595Z] [runtime-status] [31632] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:34:20.595Z] [runtime-status] [31632] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Running api in signature http"}}
[debug] [2022-03-28T07:34:20.595Z] [runtime-status] [31632] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31632.sock"}}
[debug] [2022-03-28T07:34:20.599Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:34:20.599Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=400, mapping to path=/payments/create?total=400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=400, mapping to path=/payments/create?total=400"}}
[debug] [2022-03-28T07:34:20.602Z] [runtime-status] [31632] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Ephemeral server handling POST request"}}
[debug] [2022-03-28T07:34:20.603Z] [runtime-status] [31632] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31632] Ephemeral server survived."}}
[info] >  (node:31632) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined {"user":"(node:31632) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31632) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'total' of undefined"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:19:33"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:31632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:31632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:31632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:31632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:35:20.608Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: exited"}}
[debug] [2022-03-28T07:35:20.608Z] [worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-48813be4-8d90-401a-b392-be4a48c06af2]: FINISHED"}}
[debug] [2022-03-28T07:35:20.608Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:35:22.507Z] File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-03-28T07:35:23.510Z] Validating nodejs source
[debug] [2022-03-28T07:35:28.161Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^8.212.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-03-28T07:35:28.162Z] Building nodejs source
[debug] [2022-03-28T07:35:28.162Z] Analyzing nodejs backend spec
[debug] [2022-03-28T07:35:31.369Z] File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-03-28T07:35:31.470Z] File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-03-28T07:35:32.475Z] Validating nodejs source
[debug] [2022-03-28T07:35:35.064Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^8.212.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-03-28T07:35:35.064Z] Building nodejs source
[debug] [2022-03-28T07:35:35.064Z] Analyzing nodejs backend spec
[debug] [2022-03-28T07:35:38.301Z] File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-03-28T07:35:39.309Z] Validating nodejs source
[debug] [2022-03-28T07:35:42.253Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^8.212.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-03-28T07:35:42.253Z] Building nodejs source
[debug] [2022-03-28T07:35:42.253Z] Analyzing nodejs backend spec
[debug] [2022-03-28T07:35:45.937Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:35:45.938Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:35:45.938Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-03-28T07:35:45.938Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-03-28T07:35:45.944Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:35:45.945Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-03-28T07:35:45.945Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:35:45.945Z] [worker-us-central1-api-d57a062f-056b-498e-b51a-be30f3748317]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31717.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d57a062f-056b-498e-b51a-be30f3748317]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31717.sock"}}
[debug] [2022-03-28T07:35:45.945Z] [worker-us-central1-api-d57a062f-056b-498e-b51a-be30f3748317]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d57a062f-056b-498e-b51a-be30f3748317]: BUSY"}}
[debug] [2022-03-28T07:35:47.576Z] [runtime-status] [31717] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:35:47.578Z] [runtime-status] [31717] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:35:47.579Z] [runtime-status] [31717] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:35:47.580Z] [runtime-status] [31717] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:35:47.581Z] [runtime-status] [31717] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:35:47.581Z] [runtime-status] [31717] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:35:47.610Z] [runtime-status] [31717] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:35:47.611Z] [runtime-status] [31717] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:35:47.611Z] [runtime-status] [31717] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:35:47.612Z] [runtime-status] [31717] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:35:47.612Z] [runtime-status] [31717] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:35:47.613Z] [runtime-status] [31717] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:35:47.697Z] [runtime-status] [31717] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:35:47.698Z] [runtime-status] [31717] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Running api in signature http"}}
[debug] [2022-03-28T07:35:47.700Z] [runtime-status] [31717] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31717.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31717.sock"}}
[debug] [2022-03-28T07:35:47.703Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:35:47.704Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-03-28T07:35:47.708Z] [runtime-status] [31717] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Ephemeral server handling POST request"}}
[info] >  payment Request received: 0 {"user":"payment Request received: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment Request received: 0"}}
[debug] [2022-03-28T07:35:47.711Z] [runtime-status] [31717] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31717] Ephemeral server survived."}}
[info] >  (node:31717) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:31717) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31717) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:21:54 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:21:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:21:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:31717) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:31717) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31717) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:31717) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:31717) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31717) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-03-28T07:36:02.648Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-03-28T07:36:02.648Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-03-28T07:36:02.648Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=600 --> us-central1-api
[debug] [2022-03-28T07:36:02.656Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:36:02.657Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-03-28T07:36:02.657Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:36:02.658Z] [worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31728.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31728.sock"}}
[debug] [2022-03-28T07:36:02.658Z] [worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: BUSY"}}
[debug] [2022-03-28T07:36:03.738Z] [runtime-status] [31728] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:36:03.739Z] [runtime-status] [31728] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:36:03.741Z] [runtime-status] [31728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:36:03.742Z] [runtime-status] [31728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:36:03.742Z] [runtime-status] [31728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:36:03.743Z] [runtime-status] [31728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:36:03.770Z] [runtime-status] [31728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:36:03.770Z] [runtime-status] [31728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:36:03.772Z] [runtime-status] [31728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:36:03.772Z] [runtime-status] [31728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:36:03.773Z] [runtime-status] [31728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:36:03.773Z] [runtime-status] [31728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:36:03.877Z] [runtime-status] [31728] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:36:03.878Z] [runtime-status] [31728] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Running api in signature http"}}
[debug] [2022-03-28T07:36:03.881Z] [runtime-status] [31728] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31728.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31728.sock"}}
[debug] [2022-03-28T07:36:03.885Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:36:03.885Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600"}}
[debug] [2022-03-28T07:36:03.891Z] [runtime-status] [31728] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Ephemeral server handling POST request"}}
[info] >  payment Request received: 600 {"user":"payment Request received: 600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment Request received: 600"}}
[debug] [2022-03-28T07:36:03.895Z] [runtime-status] [31728] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31728] Ephemeral server survived."}}
[info] >  (node:31728) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined {"user":"(node:31728) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31728) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'create' of undefined"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:21:54 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:21:54","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js:21:54"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:137:13)"}}
[info] >      at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3) {"user":"    at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/route.js:112:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22 {"user":"    at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:281:22"}}
[info] >      at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12) {"user":"    at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:341:12)"}}
[info] >      at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10) {"user":"    at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/index.js:275:10)"}}
[info] >      at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7) {"user":"    at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at jsonParser (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/body-parser/lib/types/json.js:119:7)"}}
[info] >      at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:31728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:31728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:31728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:31728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:36:47.707Z] [worker-us-central1-api-d57a062f-056b-498e-b51a-be30f3748317]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d57a062f-056b-498e-b51a-be30f3748317]: exited"}}
[debug] [2022-03-28T07:36:47.707Z] [worker-us-central1-api-d57a062f-056b-498e-b51a-be30f3748317]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-d57a062f-056b-498e-b51a-be30f3748317]: FINISHED"}}
[debug] [2022-03-28T07:36:47.707Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:36:54.327Z] File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-03-28T07:36:55.331Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2022-03-28T07:36:55.331Z] [worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: FINISHING"}}
[debug] [2022-03-28T07:36:55.332Z] Validating nodejs source
[debug] [2022-03-28T07:36:58.249Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^8.212.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-03-28T07:36:58.250Z] Building nodejs source
[debug] [2022-03-28T07:36:58.250Z] Analyzing nodejs backend spec
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:37:03.892Z] [worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: exited"}}
[debug] [2022-03-28T07:37:03.892Z] [worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-693e695d-fd1f-4d83-91b9-c90efe90ebb1]: FINISHED"}}
[debug] [2022-03-28T07:37:03.892Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:37:10.375Z] File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-03-28T07:37:11.379Z] Validating nodejs source
[debug] [2022-03-28T07:37:14.094Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^8.212.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-03-28T07:37:14.095Z] Building nodejs source
[debug] [2022-03-28T07:37:14.095Z] Analyzing nodejs backend spec
[debug] [2022-03-28T07:37:26.255Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:37:26.255Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:37:26.255Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=600 --> us-central1-api
[debug] [2022-03-28T07:37:26.255Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[debug] [2022-03-28T07:37:26.264Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:37:26.265Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-03-28T07:37:26.265Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:37:26.265Z] [worker-us-central1-api-5c3e8cea-0b02-4a2f-835d-70717590294c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31769.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5c3e8cea-0b02-4a2f-835d-70717590294c]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31769.sock"}}
[debug] [2022-03-28T07:37:26.266Z] [worker-us-central1-api-5c3e8cea-0b02-4a2f-835d-70717590294c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5c3e8cea-0b02-4a2f-835d-70717590294c]: BUSY"}}
[debug] [2022-03-28T07:37:27.263Z] [runtime-status] [31769] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:37:27.265Z] [runtime-status] [31769] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:37:27.267Z] [runtime-status] [31769] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:37:27.269Z] [runtime-status] [31769] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:37:27.269Z] [runtime-status] [31769] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:37:27.270Z] [runtime-status] [31769] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:37:27.306Z] [runtime-status] [31769] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:37:27.306Z] [runtime-status] [31769] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:37:27.307Z] [runtime-status] [31769] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:37:27.308Z] [runtime-status] [31769] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:37:27.309Z] [runtime-status] [31769] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:37:27.309Z] [runtime-status] [31769] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:37:27.404Z] [runtime-status] [31769] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:37:27.405Z] [runtime-status] [31769] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Running api in signature http"}}
[debug] [2022-03-28T07:37:27.410Z] [runtime-status] [31769] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31769.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31769.sock"}}
[debug] [2022-03-28T07:37:27.440Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:37:27.440Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600"}}
[debug] [2022-03-28T07:37:27.446Z] [runtime-status] [31769] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Ephemeral server handling POST request"}}
[info] >  payment Request received: 600 {"user":"payment Request received: 600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment Request received: 600"}}
[debug] [2022-03-28T07:37:27.459Z] [runtime-status] [31769] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31769] Ephemeral server survived."}}
[info] >  (node:31769) UnhandledPromiseRejectionWarning: Error: Invalid currency: rupee. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, byn, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, usdc, ghs, eek, lvl, svc, vef, ltl {"user":"(node:31769) UnhandledPromiseRejectionWarning: Error: Invalid currency: rupee. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, byn, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, usdc, ghs, eek, lvl, svc, vef, ltl","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31769) UnhandledPromiseRejectionWarning: Error: Invalid currency: rupee. Stripe currently supports these currencies: usd, aed, afn, all, amd, ang, aoa, ars, aud, awg, azn, bam, bbd, bdt, bgn, bhd, bif, bmd, bnd, bob, brl, bsd, bwp, byn, bzd, cad, cdf, chf, clp, cny, cop, crc, cve, czk, djf, dkk, dop, dzd, egp, etb, eur, fjd, fkp, gbp, gel, gip, gmd, gnf, gtq, gyd, hkd, hnl, hrk, htg, huf, idr, ils, inr, isk, jmd, jod, jpy, kes, kgs, khr, kmf, krw, kwd, kyd, kzt, lak, lbp, lkr, lrd, lsl, mad, mdl, mga, mkd, mmk, mnt, mop, mro, mur, mvr, mwk, mxn, myr, mzn, nad, ngn, nio, nok, npr, nzd, omr, pab, pen, pgk, php, pkr, pln, pyg, qar, ron, rsd, rub, rwf, sar, sbd, scr, sek, sgd, shp, sll, sos, srd, std, szl, thb, tjs, tnd, top, try, ttd, twd, tzs, uah, ugx, uyu, uzs, vnd, vuv, wst, xaf, xcd, xof, xpf, yer, zar, zmw, usdc, ghs, eek, lvl, svc, vef, ltl"}}
[info] >      at Function.generate (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:95:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:31769) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:31769) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31769) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:31769) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:31769) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31769) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:38:27.423Z] [worker-us-central1-api-5c3e8cea-0b02-4a2f-835d-70717590294c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5c3e8cea-0b02-4a2f-835d-70717590294c]: exited"}}
[debug] [2022-03-28T07:38:27.423Z] [worker-us-central1-api-5c3e8cea-0b02-4a2f-835d-70717590294c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-5c3e8cea-0b02-4a2f-835d-70717590294c]: FINISHED"}}
[debug] [2022-03-28T07:38:27.423Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:38:40.041Z] File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-03-28T07:38:41.047Z] Validating nodejs source
[debug] [2022-03-28T07:38:45.493Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^8.212.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-03-28T07:38:45.494Z] Building nodejs source
[debug] [2022-03-28T07:38:45.494Z] Analyzing nodejs backend spec
[debug] [2022-03-28T07:40:25.268Z] File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/index.js changed, reloading triggers"}}
[debug] [2022-03-28T07:40:26.272Z] Validating nodejs source
[debug] [2022-03-28T07:40:29.620Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint .",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^4.17.3",
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0",
    "stripe": "^8.212.0"
  },
  "devDependencies": {
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2022-03-28T07:40:29.621Z] Building nodejs source
[debug] [2022-03-28T07:40:29.621Z] Analyzing nodejs backend spec
[debug] [2022-03-28T07:40:51.283Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:40:51.284Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:40:51.284Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=0 --> us-central1-api
[debug] [2022-03-28T07:40:51.284Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[debug] [2022-03-28T07:40:51.292Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:40:51.293Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2022-03-28T07:40:51.293Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:40:51.294Z] [worker-us-central1-api-6f0507a8-ca2f-4089-b53c-353de84d9d33]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31816.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6f0507a8-ca2f-4089-b53c-353de84d9d33]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31816.sock"}}
[debug] [2022-03-28T07:40:51.294Z] [worker-us-central1-api-6f0507a8-ca2f-4089-b53c-353de84d9d33]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6f0507a8-ca2f-4089-b53c-353de84d9d33]: BUSY"}}
[debug] [2022-03-28T07:40:53.345Z] [runtime-status] [31816] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:40:53.347Z] [runtime-status] [31816] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:40:53.349Z] [runtime-status] [31816] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:40:53.350Z] [runtime-status] [31816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:40:53.351Z] [runtime-status] [31816] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:40:53.351Z] [runtime-status] [31816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:40:53.400Z] [runtime-status] [31816] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:40:53.400Z] [runtime-status] [31816] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:40:53.401Z] [runtime-status] [31816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:40:53.402Z] [runtime-status] [31816] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:40:53.403Z] [runtime-status] [31816] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:40:53.403Z] [runtime-status] [31816] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:40:53.584Z] [runtime-status] [31816] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:40:53.585Z] [runtime-status] [31816] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Running api in signature http"}}
[debug] [2022-03-28T07:40:53.589Z] [runtime-status] [31816] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31816.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31816.sock"}}
[debug] [2022-03-28T07:40:53.597Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:40:53.597Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2022-03-28T07:40:53.605Z] [runtime-status] [31816] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Ephemeral server handling POST request"}}
[info] >  payment Request received: 0 {"user":"payment Request received: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment Request received: 0"}}
[debug] [2022-03-28T07:40:53.624Z] [runtime-status] [31816] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31816] Ephemeral server survived."}}
[info] >  (node:31816) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:31816) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31816) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at res.toJSON.then.StripeAPIError.message (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35) {"user":"    at res.toJSON.then.StripeAPIError.message (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at res.toJSON.then.StripeAPIError.message (/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/stripe/lib/StripeResource.js:220:35)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:95:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:95:5)"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:31816) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:31816) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31816) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:31816) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:31816) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:31816) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2022-03-28T07:41:18.805Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2022-03-28T07:41:18.805Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2022-03-28T07:41:18.806Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=400 --> us-central1-api
[debug] [2022-03-28T07:41:18.814Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2022-03-28T07:41:18.815Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2022-03-28T07:41:18.815Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:41:18.815Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T07:41:18.815Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY"}}
[debug] [2022-03-28T07:41:20.329Z] [runtime-status] [31830] Functions runtime initialized. {"cwd":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions","node_version":"14.19.1"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Functions runtime initialized. {\"cwd\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions\",\"node_version\":\"14.19.1\"}"}}
[debug] [2022-03-28T07:41:20.330Z] [runtime-status] [31830] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Disabled runtime features: undefined"}}
[debug] [2022-03-28T07:41:20.332Z] [runtime-status] [31830] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:41:20.334Z] [runtime-status] [31830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:41:20.334Z] [runtime-status] [31830] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2022-03-28T07:41:20.334Z] [runtime-status] [31830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:41:20.380Z] [runtime-status] [31830] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Checked functions.config() {\"config\":{}}"}}
[debug] [2022-03-28T07:41:20.381Z] [runtime-status] [31830] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2022-03-28T07:41:20.381Z] [runtime-status] [31830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:41:20.383Z] [runtime-status] [31830] Resolved module firebase-admin {"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2022-03-28T07:41:20.383Z] [runtime-status] [31830] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.19.0","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.19.0\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2022-03-28T07:41:20.383Z] [runtime-status] [31830] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"10.0.2","resolution":"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"10.0.2\",\"resolution\":\"/Users/nageswaran.srinivasan/Desktop/tutorial/amazon-clone/amazone-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2022-03-28T07:41:20.537Z] [runtime-status] [31830] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:41:20.537Z] [runtime-status] [31830] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Running api in signature http"}}
[debug] [2022-03-28T07:41:20.540Z] [runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T07:41:20.543Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:41:20.543Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=400, mapping to path=/payments/create?total=400 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=400, mapping to path=/payments/create?total=400"}}
[debug] [2022-03-28T07:41:20.548Z] [runtime-status] [31830] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server handling POST request"}}
[info] >  payment Request received: 400 {"user":"payment Request received: 400","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment Request received: 400"}}
[debug] [2022-03-28T07:41:20.558Z] [runtime-status] [31830] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:41:22.332Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE"}}
[debug] [2022-03-28T07:41:22.332Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] ⚠  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634 {"user":"/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m /Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634"}}
[info] >              throw new Error("Function timed out."); {"user":"            throw new Error(\"Function timed out.\");","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             throw new Error(\"Function timed out.\");"}}
[info] >              ^ {"user":"            ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m             ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m "}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Function timed out."}}
[info] >      at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19) {"user":"    at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (/Users/nageswaran.srinivasan/.nvm/versions/node/v14.19.1/lib/node_modules/firebase-tools/lib/emulator/functionsEmulatorRuntime.js:634:19)"}}
[info] >      at listOnTimeout (internal/timers.js:557:17) {"user":"    at listOnTimeout (internal/timers.js:557:17)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:557:17)"}}
[info] >      at processTimers (internal/timers.js:500:7) {"user":"    at processTimers (internal/timers.js:500:7)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:500:7)"}}
[debug] [2022-03-28T07:41:53.602Z] [worker-us-central1-api-6f0507a8-ca2f-4089-b53c-353de84d9d33]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6f0507a8-ca2f-4089-b53c-353de84d9d33]: exited"}}
[debug] [2022-03-28T07:41:53.603Z] [worker-us-central1-api-6f0507a8-ca2f-4089-b53c-353de84d9d33]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-6f0507a8-ca2f-4089-b53c-353de84d9d33]: FINISHED"}}
[debug] [2022-03-28T07:41:53.603Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:52:32.008Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:52:32.008Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:52:32.008Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=1000 --> us-central1-api
[debug] [2022-03-28T07:52:32.008Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 1"}}
[debug] [2022-03-28T07:52:32.008Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:52:32.009Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T07:52:32.009Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY"}}
[debug] [2022-03-28T07:52:32.010Z] [runtime-status] [31830] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:52:32.010Z] [runtime-status] [31830] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Running api in signature http"}}
[debug] [2022-03-28T07:52:32.011Z] [runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T07:52:32.014Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:52:32.015Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2022-03-28T07:52:32.017Z] [runtime-status] [31830] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server handling POST request"}}
[info] >  payment Request received: 1000 {"user":"payment Request received: 1000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment Request received: 1000"}}
[debug] [2022-03-28T07:52:32.020Z] [runtime-status] [31830] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:52:33.580Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE"}}
[debug] [2022-03-28T07:52:33.580Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:57:56.790Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:57:56.790Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:57:56.790Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=1000 --> us-central1-api
[debug] [2022-03-28T07:57:56.790Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:57:56.790Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T07:57:56.790Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY"}}
[debug] [2022-03-28T07:57:56.791Z] [runtime-status] [31830] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:57:56.791Z] [runtime-status] [31830] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Running api in signature http"}}
[debug] [2022-03-28T07:57:56.791Z] [runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T07:57:56.794Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:57:56.794Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=1000, mapping to path=/payments/create?total=1000"}}
[debug] [2022-03-28T07:57:56.797Z] [runtime-status] [31830] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server handling POST request"}}
[info] >  payment Request received: 1000 {"user":"payment Request received: 1000","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment Request received: 1000"}}
[debug] [2022-03-28T07:57:56.798Z] [runtime-status] [31830] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:57:58.361Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE"}}
[debug] [2022-03-28T07:57:58.361Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T07:58:32.738Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T07:58:32.738Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T07:58:32.738Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=1600 --> us-central1-api
[debug] [2022-03-28T07:58:32.738Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T07:58:32.738Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T07:58:32.739Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY"}}
[debug] [2022-03-28T07:58:32.739Z] [runtime-status] [31830] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T07:58:32.739Z] [runtime-status] [31830] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Running api in signature http"}}
[debug] [2022-03-28T07:58:32.739Z] [runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T07:58:32.742Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T07:58:32.742Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=1600, mapping to path=/payments/create?total=1600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=1600, mapping to path=/payments/create?total=1600"}}
[debug] [2022-03-28T07:58:32.744Z] [runtime-status] [31830] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server handling POST request"}}
[info] >  payment Request received: 1600 {"user":"payment Request received: 1600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment Request received: 1600"}}
[debug] [2022-03-28T07:58:32.746Z] [runtime-status] [31830] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T07:58:33.850Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE"}}
[debug] [2022-03-28T07:58:33.851Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2022-03-28T08:04:38.235Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2022-03-28T08:04:38.236Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2022-03-28T08:04:38.236Z] Accepted request POST /clone-2d476/us-central1/api/payments/create?total=600 --> us-central1-api
[debug] [2022-03-28T08:04:38.236Z] [worker-pool] submitWork(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=us-central1-api)"}}
[debug] [2022-03-28T08:04:38.236Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: Assigning socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T08:04:38.236Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: BUSY"}}
[debug] [2022-03-28T08:04:38.237Z] [runtime-status] [31830] Beginning invocation function api! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Beginning invocation function api!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"api\""}}
[debug] [2022-03-28T08:04:38.238Z] [runtime-status] [31830] Running api in signature http {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Running api in signature http"}}
[debug] [2022-03-28T08:04:38.238Z] [runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Attempting to listen to socketPath: /var/folders/tv/py3zm15n7pv3xjl4w_h01hbh0000gq/T/fire_emu_31830.sock"}}
[debug] [2022-03-28T08:04:38.241Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2022-03-28T08:04:38.241Z] [functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/clone-2d476/us-central1/api/payments/create?total=600, mapping to path=/payments/create?total=600"}}
[debug] [2022-03-28T08:04:38.243Z] [runtime-status] [31830] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server handling POST request"}}
[info] >  payment Request received: 600 {"user":"payment Request received: 600","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m payment Request received: 600"}}
[debug] [2022-03-28T08:04:38.245Z] [runtime-status] [31830] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [31830] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"api\" in ~1s"}}
[debug] [2022-03-28T08:04:39.801Z] [worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-us-central1-api-cdd9023f-176f-4862-919f-9a876d7d8482]: IDLE"}}
[debug] [2022-03-28T08:04:39.801Z] [work-queue] {"queueLength":0,"workRunningCount":0}
